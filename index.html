<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒ‰ãƒ©ã‚¯ã‚¨10 éŒ¬é‡‘ç®¡ç†ãƒ„ãƒ¼ãƒ«ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¿è­·ï¼‰</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    .hidden { display: none; }
    .section { border: 1px solid #ccc; padding: 15px; margin-bottom: 20px; }
    select, input { margin: 5px; }
    .effect-row { margin-bottom: 10px; }
    h2 { margin-top: 0; }
  </style>
</head>
<body>

<div id="login">
  <h2>ğŸ” ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›</h2>
  <input type="password" id="password" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›">
  <button onclick="checkPassword()">ãƒ­ã‚°ã‚¤ãƒ³</button>
  <p id="error" style="color:red;"></p>
</div>

<div id="app" class="hidden">
  <h1>ãƒ‰ãƒ©ã‚¯ã‚¨10 éŒ¬é‡‘åŠ¹æœç®¡ç†ãƒ„ãƒ¼ãƒ«ï¼ˆéƒ¨ä½åˆ¥ï¼‰</h1>
  <div id="parts"></div>
  <h2>ğŸ“Š åˆè¨ˆéŒ¬é‡‘åŠ¹æœ</h2>
  <pre id="totalDisplay"></pre>
</div>

<script>
const CORRECT_PASSWORD = "dq10pass"; // â† ä»»æ„ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«å¤‰æ›´å¯èƒ½

function checkPassword() {
  const input = document.getElementById("password").value;
  if (input === CORRECT_PASSWORD) {
    document.getElementById("login").classList.add("hidden");
    document.getElementById("app").classList.remove("hidden");
    initApp(); // ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªåˆæœŸåŒ–
  } else {
    document.getElementById("error").textContent = "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™";
  }
}

function initApp() {
  const data = {
    "é ­": ["ã•ã„ã ã„MP", "ã•ã„ã ã„HP", "çœ ã‚Šã‚¬ãƒ¼ãƒ‰", "ãƒãƒ’ã‚¬ãƒ¼ãƒ‰", "æ··ä¹±ã‚¬ãƒ¼ãƒ‰", "å°å°ã‚¬ãƒ¼ãƒ‰", "å¹»æƒ‘ã‚¬ãƒ¼ãƒ‰", "å³æ­»ã‚¬ãƒ¼ãƒ‰", "ãŠã³ãˆã‚¬ãƒ¼ãƒ‰", "ã©ãã‚¬ãƒ¼ãƒ‰", "é–‹æˆ¦æ™‚ï¼Ÿï¼Ÿï¼…ã§ãƒ”ã‚ªãƒ©"],
    "ä½“ä¸Š": ["ã—ã‚…ã³åŠ›", "ãƒ–ãƒ¬ã‚¹ç³»ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼Ÿï¼Ÿ%æ¸›", "ã“ã†ã’ãé­”åŠ›", "ã‹ã„ãµãé­”åŠ›", "æ”»æ’ƒå‘ªæ–‡ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼Ÿï¼Ÿ%æ¸›", "å‘ªã„ã‚¬ãƒ¼ãƒ‰", "å³æ­»ã‚¬ãƒ¼ãƒ‰", "ãŠã‚‚ã•", "ç‚ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼Ÿï¼Ÿ%æ¸›", "æ°·ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼Ÿï¼Ÿ%æ¸›", "é¢¨ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼Ÿï¼Ÿ%æ¸›", "é›·ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼Ÿï¼Ÿ%æ¸›", "åœŸãƒ€ãƒ¡ãƒ¼ã‚¸ï¼Ÿï¼Ÿ%æ¸›", "é—‡ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼Ÿï¼Ÿ%æ¸›", "å…‰ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼Ÿï¼Ÿ%æ¸›", "é–‹æˆ¦æ™‚ï¼Ÿï¼Ÿï¼…ã§ã‚¹ã‚«ãƒ©"],
    "ä½“ä¸‹": ["ã—ã‚…ã³åŠ›", "MPå¸åã‚¬ãƒ¼ãƒ‰", "ã“ã†ã’ãé­”åŠ›", "ã‹ã„ãµãé­”åŠ›", "çœ ã‚Šã‚¬ãƒ¼ãƒ‰", "ãƒãƒ’ã‚¬ãƒ¼ãƒ‰", "æ··ä¹±ã‚¬ãƒ¼ãƒ‰", "å°å°ã‚¬ãƒ¼ãƒ‰", "å¹»æƒ‘ã‚¬ãƒ¼ãƒ‰", "ã©ãã‚¬ãƒ¼ãƒ‰", "é–‹æˆ¦æ™‚ï¼Ÿï¼Ÿï¼…ã§ãƒãƒ›ã‚­ãƒ†"],
    "ã‚¦ãƒ‡": ["ãã‚ˆã†ã•", "ã‹ã„ã—ã‚“ç‡", "å‘ªæ–‡ç™ºå‹•é€Ÿåº¦", "MPæ¶ˆè²»ã—ãªã„ç‡", "å‘ªæ–‡ã¼ã†ãã†ç‡", "æ”»æ’ƒæ™‚ï¼Ÿï¼Ÿï¼…ã§çœ ã‚Š", "æ”»æ’ƒæ™‚ï¼Ÿï¼Ÿï¼…ã§ãƒ˜ãƒŠãƒˆã‚¹", "æ”»æ’ƒæ™‚ï¼Ÿï¼Ÿï¼…ã§ãƒ«ã‚«ãƒ‹", "é€šå¸¸ãƒ‰ãƒ­ãƒƒãƒ—ç‡", "ãƒ¬ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ç‡", "æ”»æ’ƒæ™‚ï¼Ÿï¼Ÿï¼…ã§ã©ã", "æ”»æ’ƒæ™‚ï¼Ÿï¼Ÿï¼…ã§ãƒãƒ’", "æ”»æ’ƒæ™‚ï¼Ÿï¼Ÿï¼…ã§æ··ä¹±", "æ”»æ’ƒæ™‚ï¼Ÿï¼Ÿï¼…ã§å¹»æƒ‘", "æ”»æ’ƒæ™‚ï¼Ÿï¼Ÿï¼…ã§é­…äº†", "æ”»æ’ƒæ™‚ï¼Ÿï¼Ÿï¼…ã§ãƒãƒ›ãƒˆãƒ¼ãƒ³"],
    "è¶³": ["ã™ã°ã‚„ã•", "ãŠã‚‚ã•", "èº«ã‹ã‚ã—ç‡", "ãŠã—ã‚ƒã‚Œã•", "è»¢ã³ã‚¬ãƒ¼ãƒ‰", "è¸Šã‚‰ã•ã‚Œã‚¬ãƒ¼ãƒ‰", "ä¸æ„ã‚’ã¤ãç¢ºç‡", "ç§»å‹•é€Ÿåº¦"]
  };

  const container = document.getElementById("parts");

  for (let part in data) {
    const div = document.createElement("div");
    div.className = "section";
    https://t.co/WkyQIkaAxG = `section-${part}`;
    div.innerHTML = `<h2>${part}</h2>`;

    for (let i = 0; i < 3; i++) {
      div.innerHTML += `
        <div class="effect-row">
          <select id="${part}_effect${i}">
            <option value="">-- åŠ¹æœã‚’é¸æŠ --</option>
            ${data[part].map(e => `<option value="${e}">${e}</option>`).join("")}
          </select>
          <input type="number" id="${part}_value${i}" placeholder="æ•°å€¤(1ã€œ70)" min="1" max="70">
        </div>`;
    }

    div.innerHTML += `
      <label>ä¿å­˜å:
        <input type="text" id="${part}_name" placeholder="ä¾‹: å¹»æƒ‘100%">
      </label>
      <button onclick="savePart('${part}')">ä¿å­˜</button>
      <select id="${part}_saved" onchange="loadPart('${part}', this.value)">
        <option value="">-- ä¿å­˜æ¸ˆã¿ --</option>
      </select>
      <button onclick="deletePart('${part}')">å‰Šé™¤</button>
    `;

    container.appendChild(div);
  }

  for (let part in data) updateSavedList(part);
  document.querySelectorAll("select, input").forEach(el => el.addEventListener("change", calcTotal));
}

function savePart(part) {
  const name = document.getElementById(`${part}_name`).value.trim();
  if (!name) return alert("ä¿å­˜åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
  const key = `part_${part}_${name}`;
  const effects = [];
  for (let i = 0; i < 3; i++) {
    const effect = document.getElementById(`${part}_effect${i}`).value;
    const value = Number(document.getElementById(`${part}_value${i}`).value);
    if (effect && value) effects.push({ effect, value });
  }
  if (effects.length === 0) return alert("1ã¤ä»¥ä¸Šã®åŠ¹æœã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
  localStorage.setItem(key, JSON.stringify(effects));
  updateSavedList(part);
  calcTotal();
}

function loadPart(part, name) {
  if (!name) return;
  const key = `part_${part}_${name}`;
  const effects = JSON.parse(localStorage.getItem(key) || "[]");
  effects.forEach((e, i) => {
    document.getElementById(`${part}_effect${i}`).value = e.effect;
    document.getElementById(`${part}_value${i}`).value = e.value;
  });
  for (let i = effects.length; i < 3; i++) {
    document.getElementById(`${part}_effect${i}`).value = "";
    document.getElementById(`${part}_value${i}`).value = "";
  }
  calcTotal();
}

function deletePart(part) {
  const select = document.getElementById(`${part}_saved`);
  const name = select.value;
  if (!name) return alert("å‰Šé™¤ã™ã‚‹éŒ¬é‡‘åã‚’é¸ã‚“ã§ãã ã•ã„");
  const key = `part_${part}_${name}`;
  if (!confirm(`"${name}" ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ`)) return;
  localStorage.removeItem(key);
  updateSavedList(part);
}

function updateSavedList(part) {
  const select = document.getElementById(`${part}_saved`);
  select.innerHTML = '<option value="">-- ä¿å­˜æ¸ˆã¿ --</option>';
  const names = Object.keys(localStorage)
    .filter(key => key.startsWith(`part_${part}_`))
    .map(key => key.replace(`part_${part}_`, ""))
    .sort((a, b) => a.localeCompare(b, 'ja'));
  names.forEach(name => {
    select.innerHTML += `<option value="${name}">${name}</option>`;
  });
}

function calcTotal() {
  const total = {};
  const allParts = ["é ­", "ä½“ä¸Š", "ä½“ä¸‹", "ã‚¦ãƒ‡", "è¶³"];
  for (let part of allParts) {
    for (let i = 0; i < 3; i++) {
      const effect = document.getElementById(`${part}_effect${i}`)?.value;
      const value = Number(document.getElementById(`${part}_value${i}`)?.value);
      if (effect && value) {
        total[effect] = (total[effect] || 0) + value;
      }
    }
  }
  const output = Object.entries(total).map(([k, v]) => `${k}: ${v}%`).join("\n");
  document.getElementById("totalDisplay").textContent = output;
}
</script>
</body>
</html>